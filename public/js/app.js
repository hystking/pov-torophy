!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=6)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.range=function(e){for(var n=[],t=0;t<e;t+=1)n.push(t);return n}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DomLogger=void 0;var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),r=t(0);n.DomLogger=function(){function e(n){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=n,this.dom.classList.add("logger"),this.domLines=(0,r.range)(o).map(function(){var e=window.document.createElement("div");return e.className="logger__line",t.dom.appendChild(e),e}),this.buffer=(0,r.range)(o).map(function(){return""}),this.bufferIndex=0,this.lineCount=o,this.lastTime=0}return o(e,[{key:"clear",value:function(){for(var e=0;e<this.lineCount;e+=1)this.buffer[e]="";this.bufferIndex=0}},{key:"log",value:function(e){this.buffer[this.bufferIndex]=e,this.bufferIndex=(this.bufferIndex+1)%this.lineCount,this.update()}},{key:"update",value:function(){for(var e=0;e<this.lineCount;e+=1)this.domLines[e].textContent=this.buffer[(e+this.bufferIndex)%this.lineCount]}}]),e}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.encodeColorDataToSend=function(e){var n=e.length,t=n<=0?0:e[0].length,o=new Uint8Array(6+n*t*3);o[0]=192,o[1]=255,o[2]=238,o[3]=17,o[4]=n,o[5]=t;for(var r=0;r<n;r+=1)for(var u=0;u<t;u+=1){var i=e[r][u],a=6+3*(r*t+u);o[a]=i.red,o[a+1]=i.green,o[a+2]=i.blue}return o}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();n.Color=function(){function e(n,t,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.set(n,t,o)}return o(e,[{key:"setFromHexColorString",value:function(e){var n=parseInt(e.substr(1,2),16),t=parseInt(e.substr(3,2),16),o=parseInt(e.substr(5,2),16);this.set(n,t,o)}},{key:"set",value:function(e,n,t){this.red=e,this.green=n,this.blue=t}},{key:"toCSSString",value:function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"}}]),e}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.index=function(){var e={columnNumber:0,rowNumber:0,colorData:[],isMouseDown:!1,isSendingColorData:!1};function n(){for(var n=[],t=0;t<e.rowNumber;t+=1){for(var r=[],u=0;u<e.columnNumber;u+=1)r.push(new o.Color(0,0,0));n.push(r)}for(var i=0;i<e.rowNumber;i+=1){var a=e.colorData[i],l=n[i];if(null!=a)for(var s=0;s<e.columnNumber;s+=1){var c=a[s],d=l[s];null!=c&&d.set(c.red,c.green,c.blue)}}e.colorData=n}function t(){var e=document.createElement("div");return e.classList.add("cells__row"),e}function a(n,t,o){var r=document.createElement("div");return r.classList.add("cells__cell"),r.style.backgroundColor=o.toCSSString(),r.addEventListener("mousedown",function(){s(n,t)}),r.addEventListener("mousemove",function(){e.isMouseDown&&s(n,t)}),r}function l(){var n=document.getElementById("cells");n.innerHTML="";for(var o=0;o<e.colorData.length;o+=1){for(var r=e.colorData[o],u=t(),i=0;i<r.length;i+=1){var l=a(o,i,r[i]);u.appendChild(l)}n.appendChild(u)}e.isSendingColorData?(document.getElementById("sendButton").textContent="送信中…",document.getElementById("sendButton").setAttribute("disabled","1")):(document.getElementById("sendButton").textContent="送信",document.getElementById("sendButton").removeAttribute("disabled")),document.getElementById("columnNumberInput").value=Math.floor(e.columnNumber/8),document.getElementById("rowNumberInput").value=Math.floor(e.rowNumber/8)}function s(n,t){var o=document.getElementById("colorPickerInput").value;e.colorData[n][t].setFromHexColorString(o),l()}document.getElementById("columnNumberInput").addEventListener("change",function(){e.columnNumber=8*parseInt(document.getElementById("columnNumberInput").value),n(),l()}),document.getElementById("rowNumberInput").addEventListener("change",function(){e.rowNumber=8*parseInt(document.getElementById("rowNumberInput").value),n(),l()}),window.addEventListener("mousedown",function(){e.isMouseDown=!0}),window.addEventListener("mouseup",function(){e.isMouseDown=!1}),document.getElementById("sendButton").addEventListener("click",function(){if(!e.isSendingColorData){var n=(0,r.encodeColorDataToSend)(e.colorData),t=null==comNameList.options?"":comNameList.options[comNameList.selectedIndex].value;i.send("send-color-data",n,t),e.isSendingColorData=!0,l()}}),document.getElementById("saveButton").addEventListener("click",function(){var n=Object.assign({},e);n.isMouseDown=!1,n.isSendingColorData=!1,i.send("save-state",JSON.stringify(n))}),document.getElementById("loadButton").addEventListener("click",function(){i.send("open-open-dialog")}),i.on("send-color-data-completed",function(){e.isSendingColorData=!1,l()}),i.on("load-state",function(t,o){var r=JSON.parse(o);Object.assign(e,r),n(),l()}),i.on("port-info-list",function(e,n){var t=n.map(function(e){var n=e.comName;return n}),o=n.find(function(e){var n=e.manufacturer;return n&&/Arduino/.test(n)}),r=null==t.options?null==o?"":o.comName:t.options[t.selectedIndex].value,u=document.getElementById("comNameList");u.innerHTML="";for(var i=0;i<t.length;i+=1){var a=t[i],l=document.createElement("option");l.value=a,l.textContent=a,u.appendChild(l),a===r&&(u.selectedIndex=i)}}),i.on("log",function(e,n){c.log(n)});var c=new u.DomLogger(document.getElementById("logger"),8);e.rowNumber=8*parseInt(document.getElementById("rowNumberInput").value),e.columnNumber=8*parseInt(document.getElementById("columnNumberInput").value),n(),l(),i.send("load-port-info-list")};var o=t(3),r=t(2),u=t(1),i=window.require("electron").ipcRenderer},function(e,n,t){"use strict";var o=t(4);!function(e){switch(e){case"/":case"/index.html":default:(0,o.index)()}}(window.location.pathname)},function(e,n,t){e.exports=t(5)}]);